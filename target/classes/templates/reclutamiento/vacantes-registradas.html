<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Vacantes Registradas</title>
    <link rel="stylesheet" href="/css/reclutamiento.css">
</head>

<body>

<!-- MENÚ GLOBAL -->
<div th:replace="~{reclutamiento/menu :: menu}"></div>


<!-- CONTENIDO -->
<div class="contenido-principal">

    <!-- TÍTULO -->
    <h1 class="titulo-seccion">VACANTES REGISTRADAS</h1>

    <!-- BARRA DE ESTATUS -->
    <div class="barra-estatus">

        <button class="btn-estatus gris">Todos</button>
        <button class="btn-estatus verde">Aprobados</button>
        <button class="btn-estatus azul">Proceso</button>
        <button class="btn-estatus rojo">Cancelados</button>

    </div>

    <!-- BUSCADOR -->
    <div class="buscador">
        <input id="inputBuscar" type="text" placeholder="Buscar...">
    </div>

    <!-- TABLA -->
    <table class="tabla-vacantes" id="tablaVacantes">

        <thead>
        <tr>
            <th>#</th>
            <th>Folio</th>
            <th>Fecha Registro</th>
            <th>Estatus</th>
            <th>Puesto</th>
            <th>Vacantes</th>
            <th>Tipo Contratación</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="v, i : ${vacantes}">
            <td th:text="${i.count}"></td>
            <td th:text="${v.folio}"></td>
            <td th:text="${v.fechaRegistro}"></td>
            <td th:text="${v.estatus}"></td>
            <td th:text="${v.puesto}"></td>
            <td th:text="${v.numVacantes}"></td>
            <td th:text="${v.tipoContratacion}"></td>
        </tr>
        </tbody>

    </table>

    <!-- PAGINACIÓN -->
    <div class="paginacion">
        <button class="btn-pag">1</button>
        <button class="btn-pag">2</button>
        <button class="btn-pag">3</button>
    </div>

</div>

<!-- JS BUSCADOR -->
<script>
    const input = document.getElementById("inputBuscar");
    const tabla = document.getElementById("tablaVacantes").getElementsByTagName("tbody")[0];

    input.addEventListener("keyup", () => {
        let filtro = input.value.toLowerCase();
        let filas = tabla.getElementsByTagName("tr");

        for (let i = 0; i < filas.length; i++) {
            let texto = filas[i].innerText.toLowerCase();
            filas[i].style.display = texto.includes(filtro) ? "" : "none";
        }
    });
</script>

</body>
</html>
